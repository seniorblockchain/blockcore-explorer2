"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[431],{5431:(X,p,s)=>{s.r(p),s.d(p,{TickerModule:()=>N});var g=s(4521),x=s(7423),E=s(9832),U=s(4834),m=s(5245),d=s(2181),q=s(5899),f=s(508),F=s(2638),S=s(4847),D=s(4999),u=s(3251),I=s(7455),v=s(1244),W=s(4466),k=s(7579),b=s(2722),e=s(5e3),Z=s(5861),T=s(1135),J=s(8505),Y=s(520),y=s(5830),A=s(9205);let C=(()=>{class r{constructor(t,i,h){var c=this;this._httpClient=t,this.api=i,this.setup=h,this._data=new T.X(null),this._ticker=new T.X(null),this.ticker={},this.navigator=(o,a)=>{for(var l=0,R=(a=a.split(".")).length;l<R;l++)Array.isArray(o[a[l]])?(o=o[a[l]][a[l+1]],l++):o=o[a[l]];return o},this.subscription=this.setup.currentChain$.subscribe(function(){var o=(0,Z.Z)(function*(a){yield c.updateTicker()});return function(a){return o.apply(this,arguments)}}()),this.chain=this.setup.Chain}updateTicker(){var t=this;return(0,Z.Z)(function*(){var i,h;try{t.error=null;const c=null===(h=null===(i=t.setup.Explorer)||void 0===i?void 0:i.Ticker)||void 0===h?void 0:h.ApiUrl;if(!c)return void(t.ticker={});const o=yield t.api.download(c),a=t.navigator(o,t.setup.Explorer.Ticker.PercentagePath);let l="neutral";a<0&&(l="negative"),a>0&&(l="positive"),t.ticker={coin:t.setup.Chain.Symbol,btc:t.navigator(o,t.setup.Explorer.Ticker.PricePathBTC),usd:t.navigator(o,t.setup.Explorer.Ticker.PricePathUSD),changePercentage:a,changeType:l}}catch(c){t.ticker={coin:null,btc:null,usd:null,changePercentage:null,changeType:null},t.error=c}t._ticker.next(t.ticker)})()}get data$(){return this._data.asObservable()}get dataticker$(){return this._ticker.asObservable()}getData(){return this._httpClient.get("api/ticker/ticker").pipe((0,J.b)(t=>{this._data.next(t)}))}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Y.eN),e.LFG(y.s),e.LFG(A.U))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var w=s(9808);function $(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(4);e.Tol(t.ticker.changeType),e.xp6(1),e.hij("",t.ticker.changePercentage,"%")}}function P(r,n){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e._UZ(2,"i",47),e.YNc(3,$,2,4,"span",48),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.ticker.btc.toFixed(8)," "),e.xp6(2),e.Q6J("ngIf",t.ticker.changePercentage)}}function Q(r,n){if(1&r&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij("$",t.ticker.usd.toFixed(3),"")}}function B(r,n){if(1&r&&(e.TgZ(0,"div",43),e.TgZ(1,"h1"),e.TgZ(2,"span",44),e._uU(3),e.qZA(),e._uU(4,"."),e.qZA(),e.YNc(5,P,4,2,"h2",45),e.YNc(6,Q,2,1,"h3",45),e._UZ(7,"app-error",46),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.hij("$",null==t.setup.Chain?null:t.setup.Chain.Symbol,""),e.xp6(2),e.Q6J("ngIf",t.ticker.btc),e.xp6(1),e.Q6J("ngIf",t.ticker.usd),e.xp6(1),e.Q6J("error",t.error)}}function O(r,n){if(1&r&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e.TgZ(2,"div",26),e.TgZ(3,"div",27),e.TgZ(4,"div",28),e.TgZ(5,"div",29),e.YNc(6,B,8,4,"div",30),e.qZA(),e.TgZ(7,"div",15),e._UZ(8,"mat-icon",31),e.TgZ(9,"div",32),e.TgZ(10,"span",33),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",34),e.TgZ(13,"div",35),e.TgZ(14,"div",36),e._uU(15,"Weekly Expenses"),e.qZA(),e.TgZ(16,"div",37),e.TgZ(17,"button",38),e._UZ(18,"mat-icon",12),e.qZA(),e.TgZ(19,"mat-menu",null,39),e.TgZ(21,"button",40),e._uU(22,"This week"),e.qZA(),e.TgZ(23,"button",40),e._uU(24,"Last week"),e.qZA(),e.TgZ(25,"button",40),e._uU(26,"2 weeks ago"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",27),e.TgZ(28,"div",28),e.TgZ(29,"div",29),e._uU(30),e.ALo(31,"currency"),e.qZA(),e.TgZ(32,"div",15),e._UZ(33,"mat-icon",31),e.TgZ(34,"div",32),e.TgZ(35,"span",33),e._uU(36,"2%"),e.qZA(),e._uU(37," below tickered "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",41),e._UZ(39,"apx-chart",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const t=e.MAs(20),i=e.oxw();e.xp6(6),e.Q6J("ngIf",i.setup.featureEnabled(null==i.setup.Explorer||null==i.setup.Explorer.Features?null:i.setup.Explorer.Features.Ticker)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trending-down"),e.xp6(3),e.Oqu(i.ticker.changePercentage),e.xp6(6),e.Q6J("matMenuTriggerFor",t),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:dots-vertical"),e.xp6(12),e.hij(" ",e.xi3(31,14,i.data.weeklyExpenses.amount,"USD")," "),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:trending-down"),e.xp6(6),e.Q6J("chart",i.chartWeeklyExpenses.chart)("colors",i.chartWeeklyExpenses.colors)("series",i.chartWeeklyExpenses.series)("stroke",i.chartWeeklyExpenses.stroke)("tooltip",i.chartWeeklyExpenses.tooltip)("xaxis",i.chartWeeklyExpenses.xaxis)("yaxis",i.chartWeeklyExpenses.yaxis)}}let L=(()=>{class r{constructor(t,i,h,c,o){this._tickerService=t,this._router=i,this.api=h,this.setup=c,this.cd=o,this.chartprice={},this.chartTaskDistribution={},this.chartBudgetDistribution={},this.chartWeeklyExpenses={},this.chartMonthlyExpenses={},this.chartYearlyExpenses={},this.tickerLable="Ticker",this.ticker={},this._unsubscribeAll=new k.x,this._unsubscribeTicker=new k.x}ngOnInit(){this._tickerService.data$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.data=t,this._prepareChartData()}),this._tickerService.dataticker$.pipe((0,b.R)(this._unsubscribeTicker)).subscribe(t=>{null!==t&&t.coin===this.setup.Chain.Symbol&&(this.ticker=t)})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._unsubscribeTicker.next(null),this._unsubscribeTicker.complete()}trackByFn(t,i){return i.id||t}_prepareChartData(){this.chartprice={chart:{fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"line",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#64748B","#94A3B8"],dataLabels:{enabled:!0,enabledOnSeries:[0],background:{borderWidth:0}},grid:{borderColor:"var(--blockcore-border)"},labels:this.data.price.labels,legend:{show:!1},plotOptions:{bar:{columnWidth:"50%"}},series:this.data.price.series,states:{hover:{filter:{type:"darken",value:.75}}},stroke:{width:[3,0]},tooltip:{followCursor:!0,theme:"dark"},xaxis:{axisBorder:{show:!1},axisTicks:{color:"var(--blockcore-border)"},labels:{style:{colors:"var(--blockcore-text-secondary)"}},tooltip:{enabled:!1}},yaxis:{labels:{offsetX:-16,style:{colors:"var(--blockcore-text-secondary)"}}}},this.chartTaskDistribution={chart:{fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"polarArea",toolbar:{show:!1},zoom:{enabled:!1}},labels:this.data.taskDistribution.labels,legend:{position:"bottom"},plotOptions:{polarArea:{spokes:{connectorColors:"var(--blockcore-border)"},rings:{strokeColor:"var(--blockcore-border)"}}},series:this.data.taskDistribution.series,states:{hover:{filter:{type:"darken",value:.75}}},stroke:{width:2},theme:{monochrome:{enabled:!0,color:"#93C5FD",shadeIntensity:.75,shadeTo:"dark"}},tooltip:{followCursor:!0,theme:"dark"},yaxis:{labels:{style:{colors:"var(--blockcore-text-secondary)"}}}},this.chartBudgetDistribution={chart:{fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"radar",sparkline:{enabled:!0}},colors:["#818CF8"],dataLabels:{enabled:!0,formatter:t=>`${t}%`,textAnchor:"start",style:{fontSize:"13px",fontWeight:500},background:{borderWidth:0,padding:4},offsetY:-15},markers:{strokeColors:"#818CF8",strokeWidth:4},plotOptions:{radar:{polygons:{strokeColors:"var(--blockcore-border)",connectorColors:"var(--blockcore-border)"}}},series:this.data.budgetDistribution.series,stroke:{width:2},tooltip:{theme:"dark",y:{formatter:t=>`${t}%`}},xaxis:{labels:{show:!0,style:{fontSize:"12px",fontWeight:"500"}},categories:this.data.budgetDistribution.categories},yaxis:{max:t=>parseInt((t+10).toFixed(0),10),tickAmount:7}},this.chartWeeklyExpenses={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"line",sparkline:{enabled:!0}},colors:["#22D3EE"],series:this.data.weeklyExpenses.series,stroke:{curve:"smooth"},tooltip:{theme:"dark"},xaxis:{type:"category",categories:this.data.weeklyExpenses.labels},yaxis:{labels:{formatter:t=>`$${t}`}}},this.chartMonthlyExpenses={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"line",sparkline:{enabled:!0}},colors:["#4ADE80"],series:this.data.monthlyExpenses.series,stroke:{curve:"smooth"},tooltip:{theme:"dark"},xaxis:{type:"category",categories:this.data.monthlyExpenses.labels},yaxis:{labels:{formatter:t=>`$${t}`}}},this.chartYearlyExpenses={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",height:"100%",type:"line",sparkline:{enabled:!0}},colors:["#FB7185"],series:this.data.yearlyExpenses.series,stroke:{curve:"smooth"},tooltip:{theme:"dark"},xaxis:{type:"category",categories:this.data.yearlyExpenses.labels},yaxis:{labels:{formatter:t=>`$${t}`}}}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C),e.Y36(g.F0),e.Y36(y.s),e.Y36(A.U),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ticker"]],decls:29,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-full","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],[3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["matRipple","",1,"relative","flex","self-start","pt-2","pb-1","pl-5","pr-4","cursor-pointer","overflow-hidden","rounded-t-xl","border","border-b-0","bg-default"],[1,"flex","items-center"],[1,"overflow-hidden"],[1,"font-medium","leading-6","truncate"],[1,"flex","items-center","justify-center","pl-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"sm:px-2"],[3,"label"],["matTabContent",""],[1,"grid","grid-cols-1","sm:grid-cols-6","gap-6","w-full","min-w-0"],[1,"sm:col-span-6","lg:col-span-6","grid","grid-cols-1","sm:grid-cols-2","gap-y-6"],[1,"col-span-1","sm:col-span-1","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","sm:mr-3"],[1,"flex","items-center","mt-1"],[1,"flex","flex-col"],[1,"text-3xl","font-semibold","tracking-tight","leading-tight"],["class","widget",4,"ngIf"],[1,"mr-1","icon-size-5","text-red-500",3,"svgIcon"],[1,"font-medium","text-sm","text-secondary","leading-none","whitespace-nowrap"],[1,"text-red-500"],[1,"col-span-1","sm:col-span-1","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","sm:ml-3"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"ml-2","-mt-2","-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],["weeklyExpensesMenu","matMenu"],["mat-menu-item",""],[1,"flex","flex-col","flex-auto","ml-8"],[1,"flex-auto","w-full","h-16",3,"chart","colors","series","stroke","tooltip","xaxis","yaxis"],[1,"widget"],[1,"accent"],[4,"ngIf"],[1,"centered",3,"error"],[1,"fab","fa-btc"],[3,"class",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7),e.ynx(8),e.TgZ(9,"div",8),e._uU(10),e.qZA(),e.BQk(),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"a",10),e.TgZ(13,"button",11),e._UZ(14,"mat-icon",12),e.TgZ(15,"span",13),e._uU(16,"Website"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"div",15),e.TgZ(19,"div",16),e.TgZ(20,"div",17),e._uU(21,"Ticker"),e.qZA(),e.qZA(),e.TgZ(22,"div",18),e._UZ(23,"mat-icon",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",19),e.TgZ(25,"div",20),e.TgZ(26,"mat-tab-group",21),e.TgZ(27,"mat-tab",22),e.YNc(28,O,40,17,"ng-template",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.s9C("src",null==i.setup.Chain?null:i.setup.Chain.Icon,e.LSH),e.xp6(4),e.hij(" ",null==i.setup.Chain?null:i.setup.Chain.Symbol," "),e.xp6(2),e.s9C("href",null==i.setup.Chain?null:i.setup.Chain.Url,e.LSH),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-double-right"),e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-down"),e.xp6(4),e.s9C("label",null==i.setup.Chain?null:i.setup.Chain.Name))},directives:[x.lW,m.Hw,f.wG,u.SP,u.uX,u.Vc,w.O5,d.p6,d.VK,d.OP,v.x],pipes:[w.H9],encapsulation:2,changeDetection:0}),r})();var M=s(4128);const z=[{path:"",component:L,resolve:{data:(()=>{class r{constructor(t){this._tickerService=t}resolve(t,i){return(0,M.D)([this._tickerService.getData(),this._tickerService.updateTicker()])}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}];let N=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(z),x.ot,E.vV,U.t,m.Ps,d.Tx,q.Cv,f.si,F.SJ,S.JX,D.p0,u.Nh,v.X,I.y4,W.m]]}),r})()}}]);