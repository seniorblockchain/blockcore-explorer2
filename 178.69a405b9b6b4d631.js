"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[178],{1178:(_,p,l)=>{l.r(p),l.d(p,{BlocksModule:()=>$});var f=l(4521),g=l(7423),T=l(9832),b=l(4834),x=l(5245),k=l(2181),C=l(5899),v=l(508),A=l(2638),y=l(4847),B=l(4999),r=l(3251),I=l(7455),U=l(1244),J=l(4466),q=l(4107),Q=l(7531),S=l(9828),Z=l(7238),O=l(7261),H=l(9837),M=l(7237),N=l(5486),a=l(5861),t=l(5e3),L=l(5830),Y=l(9205),d=l(9808),D=l(9364),F=l(1656),j=l(2419);function z(e,s){if(1&e&&(t.TgZ(0,"div",16),t._UZ(1,"mat-icon",13),t.TgZ(2,"div",24),t._uU(3),t.qZA(),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("svgIcon","heroicons_solid:badge-check"),t.xp6(2),t.Oqu(null==o.setup.Chain?null:o.setup.Chain.Description)}}function V(e,s){if(1&e&&(t.TgZ(0,"blockcore-block",27),t._UZ(1,"mat-icon",28),t.TgZ(2,"div",29),t.TgZ(3,"div",30),t.TgZ(4,"span"),t._uU(5,"Latest blocks: "),t.qZA(),t.TgZ(6,"span",31),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(6),t.Oqu(o.total)}}function X(e,s){1&e&&t._UZ(0,"app-progress")}const G=function(e){return["../block",e]};function P(e,s){if(1&e&&(t.TgZ(0,"blockcore-block",34),t._UZ(1,"mat-icon",35),t.TgZ(2,"div",36),t.TgZ(3,"div",37),t.TgZ(4,"a",38),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",39),t._uU(7),t.ALo(8,"date"),t.qZA(),t.qZA(),t.TgZ(9,"div",29),t.TgZ(10,"div",40),t.ynx(11),t.TgZ(12,"div",41),t.TgZ(13,"div",42),t._uU(14,"Transaction Count:"),t.qZA(),t.TgZ(15,"div",43),t._uU(16),t.qZA(),t.qZA(),t.BQk(),t.qZA(),t.qZA(),t._UZ(17,"div",44),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.MGl("matTooltip","size: ",(o.blockSize/1024).toFixed(2),""),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(3),t.Q6J("routerLink",t.VKq(10,G,o.blockIndex)),t.xp6(1),t.Oqu(o.blockIndex),t.xp6(2),t.Oqu(t.xi3(8,7,1e3*o.blockTime,"dd/MM/yyyy hh:mm")),t.xp6(8),t.MGl("matTooltip","Transaction Count: ",o.transactionCount,""),t.xp6(1),t.Oqu(o.transactionCount)}}function R(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",32),t.NdJ("onScroll",function(i){return t.CHM(o),t.oxw(2).onScroll(i)}),t.YNc(2,P,18,12,"blockcore-block",33),t._UZ(3,"app-progress"),t.qZA(),t.qZA()}if(2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",o.blocks)}}function E(e,s){if(1&e&&(t._UZ(0,"app-search"),t.YNc(1,V,8,2,"blockcore-block",25),t.YNc(2,X,1,0,"app-progress",26),t.YNc(3,R,4,3,"div",26)),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.total),t.xp6(1),t.Q6J("ngIf",!o.blocks),t.xp6(1),t.Q6J("ngIf",o.blocks)}}const W=[{path:"",component:(()=>{class e{constructor(o,n){this.api=o,this.setup=n,this.hostClass=!0,this.blocks=null,this.count=0,this.maxCount=2,this.limit=20,this.loading=!1}scrollHandler(o){console.log("Scroll Event")}ngOnInit(){var o=this;return(0,a.Z)(function*(){o.subscription=o.setup.currentChain$.subscribe(function(){var n=(0,a.Z)(function*(i){yield o.updateBlocks("/api/query/block?offset=&limit="+o.limit)});return function(i){return n.apply(this,arguments)}}())})()}ngOnDestroy(){clearTimeout(this.timerInfo),clearTimeout(this.timerBlocks),this.subscription.unsubscribe()}updateBlocks(o){var n=this;return(0,a.Z)(function*(){if(console.log("url: ",o),!o)return;const i=n.api.baseUrl.replace("/api",""),c=yield n.api.request(i+o);n.total=c.headers.get("Pagination-Total");const K=c.headers.get("Link"),w=n.api.parseLinkHeader(K);n.link=w.previous;const h=yield c.json();h.sort((m,u)=>u.blockIndex===m.blockIndex?0:u.blockIndex<m.blockIndex?-1:u.blockIndex>m.blockIndex?1:void 0),n.blocks||(n.blocks=[]),n.blocks=[...n.blocks,...h],n.count++})()}onScroll(o){var n=this;return(0,a.Z)(function*(){console.log("scroll occurred",o),o.isReachingBottom&&(console.log("the user is reaching the bottom"),n.loading=!0,setTimeout((0,a.Z)(function*(){yield n.updateBlocks(n.link),n.loading=!1})))})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(L.s),t.Y36(Y.U))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-blocks-component"]],hostVars:2,hostBindings:function(o,n){1&o&&t.NdJ("scroll",function(c){return n.scrollHandler(c)}),2&o&&t.ekj("content-centered-top",n.hostClass)},decls:28,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-full","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank","target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["matRipple","",1,"relative","flex","self-start","pt-2","pb-1","pl-5","pr-4","cursor-pointer","overflow-hidden","rounded-t-xl","border","border-b-0","bg-default"],[1,"flex","items-center"],[1,"overflow-hidden"],[1,"font-medium","leading-6","truncate"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"sm:px-2",3,"animationDuration"],[3,"label"],["matTabContent",""],[1,"ml-1.5","leading-6","truncate","text-secondary"],["class","flex items-center w-full p-6 filter-info ",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-22","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon","matTooltip"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary"],[3,"routerLink"],[1,"text-md","text-secondary"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],[1,"hidden","md:block","mr-3"],[1,"inline-flex","text-primary",3,"matTooltip"],[1,"flex"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7),t.ynx(8),t.TgZ(9,"div",8),t._uU(10),t.qZA(),t.BQk(),t.YNc(11,z,4,2,"div",9),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"a",11),t.TgZ(14,"button",12),t._UZ(15,"mat-icon",13),t.TgZ(16,"span",14),t._uU(17,"Website"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",15),t.TgZ(19,"div",16),t.TgZ(20,"div",17),t.TgZ(21,"div",18),t._uU(22,"Blocks"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",19),t.TgZ(24,"div",20),t.TgZ(25,"mat-tab-group",21),t.TgZ(26,"mat-tab",22),t.YNc(27,E,4,3,"ng-template",23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.s9C("src",null==n.setup.Chain?null:n.setup.Chain.Icon,t.LSH),t.xp6(4),t.hij(" ",null==n.setup.Chain?null:n.setup.Chain.Symbol," "),t.xp6(1),t.Q6J("ngIf",null==n.setup.Chain?null:n.setup.Chain.Description),t.xp6(2),t.s9C("href",null==n.setup.Chain?null:n.setup.Chain.Url,t.LSH),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-double-right"),t.xp6(10),t.Q6J("animationDuration","0"),t.xp6(1),t.s9C("label",null==n.setup.Chain?null:n.setup.Chain.Name))},directives:[d.O5,x.Hw,g.lW,v.wG,r.SP,r.uX,r.Vc,D.g,F.t,j.f,d.sg,Z.gM,f.yS],pipes:[d.uU],encapsulation:2}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(W),g.ot,T.vV,b.t,x.Ps,k.Tx,C.Cv,v.si,A.SJ,y.JX,B.p0,r.Nh,U.X,I.y4,J.m,q.LD,Q.c,S.d,Z.AV,O.ZX,H.t,M.q,N.T]]}),e})()}}]);