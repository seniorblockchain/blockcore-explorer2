"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[873],{6873:(pn,m,o)=>{o.r(m),o.d(m,{AddressModule:()=>ln});var p=o(4521),A=o(7423),T=o(9832),h=o(4834),x=o(5245),U=o(2181),q=o(5899),b=o(508),C=o(2638),J=o(4847),O=o(4999),S=o(3251),y=o(7455),L=o(1244),I=o(4466),N=o(4107),Y=o(7531),Q=o(9828),j=o(7238),R=o(7261),M=o(9837),V=o(7237),F=o(5486),l=o(5861),f=o(5830),n=o(5e3),B=o(9205),H=o(9364),g=o(9808),E=o(1656),D=o(2419),P=o(809);function X(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"div",5),n.TgZ(2,"div"),n.TgZ(3,"span",6),n._UZ(4,"i",7),n.qZA(),n.TgZ(5,"span",8),n._uU(6),n.qZA(),n.TgZ(7,"span",9),n._UZ(8,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&s){const t=n.oxw();n.xp6(6),n.Oqu(t.address)}}function z(s,e){1&s&&n._UZ(0,"app-progress",11)}function K(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span",12),n._uU(2,"Error: "),n.qZA(),n.TgZ(3,"span",13),n._uU(4),n.qZA(),n._UZ(5,"br"),n._UZ(6,"br"),n._uU(7),n.ALo(8,"json"),n.qZA()),2&s){const t=n.oxw();n.xp6(4),n.Oqu(t.error.title),n.xp6(3),n.hij(" ",n.lcZ(8,2,t.error.errors)," ")}}function W(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span"),n._uU(2,"Total Stake"),n.qZA(),n.TgZ(3,"span",15),n._uU(4),n.ALo(5,"amount"),n.qZA(),n.TgZ(6,"span",15),n._uU(7),n.ALo(8,"number"),n.qZA(),n.qZA()),2&s){const t=n.oxw(2);n.xp6(4),n.Oqu(n.lcZ(5,2,t.balance.totalStake)),n.xp6(3),n.hij("#",n.lcZ(8,4,t.balance.totalStakeCount),"")}}function G(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span"),n._uU(2,"Total Mine"),n.qZA(),n.TgZ(3,"span",15),n._uU(4),n.ALo(5,"amount"),n.qZA(),n.TgZ(6,"span",15),n._uU(7),n.ALo(8,"number"),n.qZA(),n.qZA()),2&s){const t=n.oxw(2);n.xp6(4),n.Oqu(n.lcZ(5,2,t.balance.totalMine)),n.xp6(3),n.hij("#",n.lcZ(8,4,t.balance.totalMineCount),"")}}function $(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span"),n._uU(2,"Pending Received"),n.qZA(),n.TgZ(3,"span",15),n._uU(4),n.ALo(5,"amount"),n.qZA(),n._UZ(6,"span"),n.qZA()),2&s){const t=n.oxw(2);n.xp6(4),n.Oqu(n.lcZ(5,1,t.balance.pendingReceived))}}function k(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span"),n._uU(2,"Pending Sent"),n.qZA(),n.TgZ(3,"span",15),n._uU(4),n.ALo(5,"amount"),n.qZA(),n._UZ(6,"span"),n.qZA()),2&s){const t=n.oxw(2);n.xp6(4),n.Oqu(n.lcZ(5,1,t.balance.pendingSent))}}function _(s,e){if(1&s&&(n.TgZ(0,"div",14),n.TgZ(1,"div"),n.TgZ(2,"span"),n._uU(3,"Balance"),n.qZA(),n.TgZ(4,"span",15),n._uU(5),n.ALo(6,"amount"),n.qZA(),n._UZ(7,"span"),n.qZA(),n.TgZ(8,"div"),n.TgZ(9,"span"),n._uU(10,"Total Received"),n.qZA(),n.TgZ(11,"span",15),n._uU(12),n.ALo(13,"amount"),n.qZA(),n.TgZ(14,"span",15),n._uU(15),n.ALo(16,"number"),n.qZA(),n.qZA(),n.YNc(17,W,9,6,"div",1),n.YNc(18,G,9,6,"div",1),n.TgZ(19,"div"),n.TgZ(20,"span"),n._uU(21,"Total Sent"),n.qZA(),n.TgZ(22,"span",15),n._uU(23),n.ALo(24,"amount"),n.qZA(),n.TgZ(25,"span",15),n._uU(26),n.ALo(27,"number"),n.qZA(),n.qZA(),n.YNc(28,$,7,3,"div",1),n.YNc(29,k,7,3,"div",1),n.qZA()),2&s){const t=n.oxw();n.xp6(5),n.Oqu(n.lcZ(6,9,t.balance.balance)),n.xp6(7),n.Oqu(n.lcZ(13,11,t.balance.totalReceived)),n.xp6(3),n.hij("#",n.lcZ(16,13,t.balance.totalReceivedCount),""),n.xp6(2),n.Q6J("ngIf",t.balance.totalStake>0),n.xp6(1),n.Q6J("ngIf",t.balance.totalMine>0),n.xp6(5),n.Oqu(n.lcZ(24,15,t.balance.totalSent)),n.xp6(3),n.hij("#",n.lcZ(27,17,t.balance.totalSentCount),""),n.xp6(2),n.Q6J("ngIf",t.balance.pendingReceived>0),n.xp6(1),n.Q6J("ngIf",t.balance.pendingSent>0)}}function w(s,e){1&s&&(n.TgZ(0,"app-progress",11),n._uU(1,"Loading transactions..."),n.qZA())}function nn(s,e){if(1&s&&(n.TgZ(0,"div"),n.TgZ(1,"span",12),n._uU(2,"Error: "),n.qZA(),n.TgZ(3,"span",13),n._uU(4),n.qZA(),n._UZ(5,"br"),n._UZ(6,"br"),n._uU(7),n.ALo(8,"json"),n.qZA()),2&s){const t=n.oxw();n.xp6(4),n.Oqu(t.errorTransactions.title),n.xp6(3),n.hij(" ",n.lcZ(8,2,t.errorTransactions.errors)," ")}}function tn(s,e){1&s&&n._UZ(0,"i",24)}function sn(s,e){1&s&&n._UZ(0,"i",25)}const on=function(s){return["../../transaction",s]},an=function(s){return["../../block",s]};function en(s,e){if(1&s&&(n.TgZ(0,"div",18),n.YNc(1,tn,1,0,"i",19),n.YNc(2,sn,1,0,"i",20),n.TgZ(3,"span",21),n.TgZ(4,"a",22),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"span"),n.TgZ(7,"a",23),n._uU(8),n.qZA(),n.qZA(),n.TgZ(9,"span",15),n._uU(10),n.ALo(11,"amount"),n.qZA(),n.qZA()),2&s){const t=e.$implicit,a=n.oxw(2);n.xp6(1),n.Q6J("ngIf","stake"===t.entryType),n.xp6(1),n.Q6J("ngIf","stake"!==t.entryType),n.xp6(2),n.Q6J("routerLink",n.VKq(10,on,t.transactionHash)),n.xp6(1),n.Oqu(t.transactionHash),n.xp6(2),n.Q6J("routerLink",n.VKq(12,an,t.blockIndex)),n.xp6(1),n.Oqu(t.blockIndex),n.xp6(2),n.AsE("",n.lcZ(11,8,t.value)," ",a.setup.Chain.Symbol,"")}}function rn(s,e){1&s&&(n.TgZ(0,"app-progress",11),n._uU(1,"Loading more transactions..."),n.qZA())}function dn(s,e){if(1&s){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div",16),n.NdJ("onScroll",function(c){return n.CHM(t),n.oxw().onScroll(c)}),n.YNc(2,en,12,14,"div",17),n._UZ(3,"br"),n.YNc(4,rn,2,0,"app-progress",3),n.qZA(),n.qZA()}if(2&s){const t=n.oxw();n.xp6(1),n.Q6J("bottomOffset",400)("topOffset",400),n.xp6(1),n.Q6J("ngForOf",t.transactions),n.xp6(2),n.Q6J("ngIf",t.loading)}}const cn=[{path:"",component:(()=>{class s{constructor(t,a,c,r){var i=this;this.api=t,this.router=a,this.setup=c,this.activatedRoute=r,this.hostClass=!0,this.detailsVisible=!1,this.limit=10,this.loading=!1,this.count=0,this.activatedRoute.paramMap.subscribe(function(){var v=(0,l.Z)(function*(u){const Z=u.get("address");console.log("Address:",Z),i.transactions=null,i.address=Z;try{i.balance=yield i.api.getAddress(Z)}catch(d){i.error="{"===d.message[0]?JSON.parse(d.message):d}try{yield i.updateTransactions("/api/query/address/"+Z+"/transactions?offset=&limit="+i.limit)}catch(d){i.errorTransactions="{"===d.message[0]?JSON.parse(d.message):d}});return function(u){return v.apply(this,arguments)}}())}amount(t){return t.filter(r=>r.address===this.address).reduce((r,i)=>r+i.balance,0)}ngOnInit(){return(0,l.Z)(function*(){})()}toggleDetails(){this.detailsVisible=!this.detailsVisible}ngOnDestroy(){}updateTransactions(t){var a=this;return(0,l.Z)(function*(){if(!t)return;const c=a.api.baseUrl.replace("/api",""),r=yield a.api.request(c+t);let i=yield r.json();if(200!==r.status)throw i&&i.status?new f.o(i.status,t,JSON.stringify(i)):new f.o(r.status,t,r.statusText);i=i.reverse(),a.total=r.headers.get("Pagination-Total");const v=r.headers.get("Link"),u=a.api.parseLinkHeader(v);a.link=u.previous,a.transactions||(a.transactions=[]),a.transactions=[...a.transactions,...i],a.count++})()}onScroll(t){var a=this;return(0,l.Z)(function*(){console.log("scroll occurred",t),t.isReachingBottom&&(console.log("the user is reaching the bottom"),a.loading=!0,setTimeout((0,l.Z)(function*(){yield a.updateTransactions(a.link),a.loading=!1}))),t.isReachingTop&&console.log("the user is reaching the top"),t.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}}return s.\u0275fac=function(t){return new(t||s)(n.Y36(f.s),n.Y36(p.F0),n.Y36(B.U),n.Y36(p.gz))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-address-component"]],hostVars:2,hostBindings:function(t,a){2&t&&n.ekj("content-centered-top",a.hostClass)},decls:17,vars:8,consts:[[1,"box"],[4,"ngIf"],[1,"fas","fa-wallet"],["class","centered",4,"ngIf"],["class","grid-label-value-label",4,"ngIf"],[1,"grid-hash"],[1,"grid-hash-left"],[1,"fas","fa-hashtag"],[1,"grid-hash-middle","breakable"],[1,"grid-hash-right"],[1,"grid-double"],[1,"centered"],[1,"muted"],[1,"negative"],[1,"grid-label-value-label"],[1,"number"],["appDetectScroll","",1,"scrollable","address-transactions-scrollable",3,"bottomOffset","topOffset","onScroll"],["class","grid-list-transactions",4,"ngFor","ngForOf"],[1,"grid-list-transactions"],["class","fas fa-coins","title","Stake",4,"ngIf"],["class","fas fa-handshake","title","Transfer",4,"ngIf"],[1,"left"],[1,"nonbreakable","number",3,"routerLink"],[1,"number",3,"routerLink"],["title","Stake",1,"fas","fa-coins"],["title","Transfer",1,"fas","fa-handshake"]],template:function(t,a){1&t&&(n._UZ(0,"app-search"),n._UZ(1,"app-search"),n.TgZ(2,"div",0),n.YNc(3,X,9,1,"div",1),n.qZA(),n.TgZ(4,"div",0),n.TgZ(5,"h3"),n._UZ(6,"i",2),n._uU(7,"\xa0\xa0Address"),n.qZA(),n.YNc(8,z,1,0,"app-progress",3),n.YNc(9,K,9,4,"div",1),n.YNc(10,_,30,19,"div",4),n.qZA(),n.TgZ(11,"div",0),n.TgZ(12,"h3"),n._uU(13),n.qZA(),n.YNc(14,w,2,0,"app-progress",3),n.YNc(15,nn,9,4,"div",1),n.YNc(16,dn,5,4,"div",1),n.qZA()),2&t&&(n.xp6(3),n.Q6J("ngIf",a.address),n.xp6(5),n.Q6J("ngIf",!a.balance),n.xp6(1),n.Q6J("ngIf",a.error),n.xp6(1),n.Q6J("ngIf",a.balance),n.xp6(3),n.hij("Transactions (",a.total,")"),n.xp6(1),n.Q6J("ngIf",!a.transactions),n.xp6(1),n.Q6J("ngIf",a.errorTransactions),n.xp6(1),n.Q6J("ngIf",a.transactions))},directives:[H.g,g.O5,E.t,D.f,g.sg,p.yS],pipes:[g.Ts,P.C,g.JJ],encapsulation:2}),s})()}];let ln=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[p.Bz.forChild(cn),A.ot,T.vV,h.t,x.Ps,U.Tx,q.Cv,b.si,C.SJ,J.JX,O.p0,S.Nh,L.X,y.y4,I.m,N.LD,Y.c,Q.d,j.AV,R.ZX,M.t,V.q,F.T]]}),s})()}}]);