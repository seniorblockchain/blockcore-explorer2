"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[609],{1609:(it,v,o)=>{o.r(v),o.d(v,{ContractAddressModule:()=>et});var l=o(4521),h=o(7423),x=o(9832),C=o(4834),U=o(5245),q=o(2181),O=o(5899),y=o(508),J=o(2638),I=o(4847),L=o(4999),S=o(3251),Q=o(7455),N=o(1244),V=o(4466),Y=o(4107),F=o(7531),D=o(9828),j=o(7238),B=o(7261),M=o(9837),b=o(7237),E=o(5486),p=o(5861),A=o(5830),t=o(5e3),K=o(9205),R=o(9364),g=o(9808),H=o(1656),X=o(1743),z=o(2419),G=o(2299),P=o(809);function W(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",6),t.TgZ(2,"div"),t.TgZ(3,"span",7),t._UZ(4,"i",8),t.qZA(),t.TgZ(5,"span",9),t._uU(6),t.qZA(),t.TgZ(7,"span",10),t._UZ(8,"div",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const s=t.oxw();t.xp6(6),t.Oqu(s.transaction.transactionId)}}function $(n,e){1&n&&t._UZ(0,"app-progress",12)}function k(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2,"Error"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA()),2&n){const s=t.oxw(2);t.xp6(4),t.Oqu(s.transaction.error)}}const T=function(n){return["../../block",n]},m=function(n){return["../../","contract-transaction",n]},w=function(n){return["../../","contract-code",n]};function _(n,e){if(1&n&&(t.TgZ(0,"div",13),t.TgZ(1,"div"),t.TgZ(2,"span"),t._uU(3,"Contract Type"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div"),t.TgZ(7,"span"),t._uU(8,"Block"),t.qZA(),t.TgZ(9,"span"),t.TgZ(10,"a",14),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div"),t.TgZ(13,"span"),t._uU(14,"Status"),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"success"),t.qZA(),t.qZA(),t.TgZ(18,"div"),t.TgZ(19,"span"),t._uU(20,"Gas Used"),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA(),t.qZA(),t.TgZ(23,"div"),t.TgZ(24,"span"),t._uU(25,"From Address"),t.qZA(),t.TgZ(26,"span"),t._uU(27),t.qZA(),t.qZA(),t.TgZ(28,"div"),t.TgZ(29,"span"),t._uU(30,"Contract Address"),t.qZA(),t.TgZ(31,"span"),t._uU(32),t.qZA(),t.qZA(),t.TgZ(33,"div"),t.TgZ(34,"span"),t._uU(35,"View Smart Contract"),t.qZA(),t.TgZ(36,"span"),t.TgZ(37,"a",14),t._uU(38),t.ALo(39,"slice"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"div"),t.TgZ(41,"span"),t._uU(42,"Smart Contract Code"),t.qZA(),t.TgZ(43,"span"),t.TgZ(44,"a",14),t._uU(45,"View Source Code"),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,k,5,1,"div",1),t.qZA()),2&n){const s=t.oxw();t.xp6(5),t.Oqu(s.transaction.contractCodeType),t.xp6(5),t.Q6J("routerLink",t.VKq(17,T,s.transaction.blockIndex)),t.xp6(1),t.Oqu(s.transaction.blockIndex),t.xp6(5),t.Oqu(t.lcZ(17,11,s.transaction.success)),t.xp6(6),t.Oqu(s.transaction.gasUsed),t.xp6(5),t.Oqu(s.transaction.fromAddress),t.xp6(5),t.Oqu(s.transaction.contractAddress),t.xp6(5),t.Q6J("routerLink",t.VKq(19,m,s.transaction.transactionId)),t.xp6(1),t.Oqu(t.Dn7(39,13,s.transaction.transactionId,0,20)),t.xp6(6),t.Q6J("routerLink",t.VKq(21,w,s.transaction.contractAddress)),t.xp6(2),t.Q6J("ngIf",s.transaction.error)}}function tt(n,e){1&n&&(t.TgZ(0,"app-progress",12),t._uU(1,"Loading transactions..."),t.qZA())}function st(n,e){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"span",15),t._uU(2,"Error: "),t.qZA(),t.TgZ(3,"span",16),t._uU(4),t.qZA(),t._UZ(5,"br"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"json"),t.qZA()),2&n){const s=t.oxw();t.xp6(4),t.Oqu(s.errorTransactions.title),t.xp6(3),t.hij(" ",t.lcZ(8,2,s.errorTransactions.errors)," ")}}function nt(n,e){if(1&n&&(t.TgZ(0,"div",19),t.TgZ(1,"span",20),t.TgZ(2,"a",21),t._uU(3),t.ALo(4,"slice"),t.qZA(),t.qZA(),t.TgZ(5,"span",20),t._uU(6),t.ALo(7,"success"),t.qZA(),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"span",20),t.TgZ(11,"a",21),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"span",22),t._uU(14),t.qZA(),t.TgZ(15,"span",23),t._uU(16),t.ALo(17,"amount"),t.qZA(),t.qZA()),2&n){const s=e.$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(17,m,s.transactionId)),t.xp6(1),t.Oqu(t.Dn7(4,9,s.transactionId,0,20)),t.xp6(3),t.Oqu(t.lcZ(7,13,s.success)),t.xp6(3),t.Oqu(s.methodName),t.xp6(2),t.Q6J("routerLink",t.VKq(19,T,s.blockIndex)),t.xp6(1),t.Oqu(s.blockIndex),t.xp6(2),t.Oqu(s.fromAddress),t.xp6(2),t.AsE("",t.lcZ(17,15,s.gasUsed)," ",a.setup.Chain.Symbol,"")}}function ot(n,e){1&n&&(t.TgZ(0,"app-progress",12),t._uU(1,"Loading more transactions..."),t.qZA())}function at(n,e){if(1&n){const s=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",17),t.NdJ("onScroll",function(d){return t.CHM(s),t.oxw().onScroll(d)}),t.YNc(2,nt,18,21,"div",18),t._UZ(3,"br"),t.YNc(4,ot,2,0,"app-progress",3),t.qZA(),t.qZA()}if(2&n){const s=t.oxw();t.xp6(1),t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",s.transactions),t.xp6(2),t.Q6J("ngIf",s.loading)}}const rt=[{path:"",component:(()=>{class n{constructor(s,a,d,i){var r=this;this.api=s,this.router=a,this.setup=d,this.activatedRoute=i,this.hostClass=!0,this.detailsVisible=!1,this.limit=10,this.loading=!1,this.count=0,this.activatedRoute.paramMap.subscribe(function(){var f=(0,p.Z)(function*(Z){const u=Z.get("address");console.log("Address:",u),r.transactions=null,r.address=u;try{r.transaction=yield r.api.getContractAddress(u)}catch(c){r.error="{"===c.message[0]?JSON.parse(c.message):c}try{yield r.updateTransactions("/api/query/cirrus/contract/"+u+"/transactions?limit="+r.limit)}catch(c){r.errorTransactions="{"===c.message[0]?JSON.parse(c.message):c}});return function(Z){return f.apply(this,arguments)}}())}amount(s){return s.filter(i=>i.address===this.address).reduce((i,r)=>i+r.balance,0)}ngOnInit(){return(0,p.Z)(function*(){})()}toggleDetails(){this.detailsVisible=!this.detailsVisible}ngOnDestroy(){}updateTransactions(s){var a=this;return(0,p.Z)(function*(){if(!s)return;const d=a.api.baseUrl.replace("/api",""),i=yield a.api.request(d+s),r=yield i.json();if(200!==i.status)throw r&&r.status?new A.o(r.status,s,JSON.stringify(r)):new A.o(i.status,s,i.statusText);a.total=i.headers.get("Pagination-Total");const f=i.headers.get("Link"),Z=a.api.parseLinkHeader(f);a.link=Z.previous,a.transactions||(a.transactions=[]),a.transactions=[...a.transactions,...r],a.count++})()}onScroll(s){var a=this;return(0,p.Z)(function*(){console.log("scroll occurred",s),s.isReachingBottom&&(console.log("the user is reaching the bottom"),a.loading=!0,setTimeout((0,p.Z)(function*(){yield a.updateTransactions(a.link),a.loading=!1}))),s.isReachingTop&&console.log("the user is reaching the top"),s.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(A.s),t.Y36(l.F0),t.Y36(K.U),t.Y36(l.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contract-address-component"]],hostVars:2,hostBindings:function(s,a){2&s&&t.ekj("content-centered-top",a.hostClass)},decls:16,vars:8,consts:[[1,"box"],[4,"ngIf"],[1,"fas","fa-receipt"],["class","centered",4,"ngIf"],[1,"centered",3,"error"],["class","grid-label-value",4,"ngIf"],[1,"grid-hash"],[1,"grid-hash-left"],[1,"fas","fa-hashtag"],[1,"grid-hash-middle","breakable"],[1,"grid-hash-right"],[1,"grid-double"],[1,"centered"],[1,"grid-label-value"],[3,"routerLink"],[1,"muted"],[1,"negative"],["appDetectScroll","",1,"scrollable","address-transactions-scrollable",3,"bottomOffset","topOffset","onScroll"],["class","grid-list-contract-address",4,"ngFor","ngForOf"],[1,"grid-list-contract-address"],[1,"left"],[1,"number",3,"routerLink"],["tippy","","tippyType","address",1,"address","left"],[1,"number","left"]],template:function(s,a){1&s&&(t._UZ(0,"app-search"),t.TgZ(1,"div",0),t.YNc(2,W,9,1,"div",1),t.qZA(),t.TgZ(3,"div",0),t.TgZ(4,"h3"),t._UZ(5,"i",2),t._uU(6,"\xa0\xa0Smart Contract Details"),t.qZA(),t.YNc(7,$,1,0,"app-progress",3),t._UZ(8,"app-error",4),t.YNc(9,_,47,23,"div",5),t.qZA(),t.TgZ(10,"div",0),t.TgZ(11,"h3"),t._uU(12),t.qZA(),t.YNc(13,tt,2,0,"app-progress",3),t.YNc(14,st,9,4,"div",1),t.YNc(15,at,5,4,"div",1),t.qZA()),2&s&&(t.xp6(2),t.Q6J("ngIf",a.transaction),t.xp6(5),t.Q6J("ngIf",!a.transaction),t.xp6(1),t.Q6J("error",a.error),t.xp6(1),t.Q6J("ngIf",a.transaction),t.xp6(3),t.hij("Transactions (",a.total,")"),t.xp6(1),t.Q6J("ngIf",!a.transactions),t.xp6(1),t.Q6J("ngIf",a.errorTransactions),t.xp6(1),t.Q6J("ngIf",a.transactions))},directives:[R.g,g.O5,H.t,X.q,l.yS,z.f,g.sg,G.$],pipes:[g.OU,g.Ts,P.C],encapsulation:2}),n})()}];let et=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(rt),h.ot,x.vV,C.t,U.Ps,q.Tx,O.Cv,y.si,J.SJ,I.JX,L.p0,S.Nh,N.X,Q.y4,V.m,Y.LD,F.c,D.d,j.AV,B.ZX,M.t,b.q,E.T]]}),n})()}}]);