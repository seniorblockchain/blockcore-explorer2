"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[873],{6873:(q,T,s)=>{s.r(T),s.d(T,{AddressModule:()=>dt});var m=s(4521),o=s(7423),U=s(9832),C=s(4834),d=s(5245),f=s(2181),c=s(5899),Z=s(508),A=s(2638),O=s(4847),P=s(4999),v=s(3251),b=s(7455),r=s(1244),p=s(4466),x=s(4107),u=s(7531),E=s(9828),D=s(7238),N=s(7261),Y=s(9837),B=s(7237),R=s(5486),y=s(5861),J=s(5830),t=s(5e3),Q=s(9205),j=s(9364),M=s(9808),W=s(1656),k=s(2419),K=s(809);function F(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"div",5),t.TgZ(2,"div"),t.TgZ(3,"span",6),t._UZ(4,"i",7),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.qZA(),t.TgZ(7,"span",9),t._UZ(8,"div",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(6),t.Oqu(n.address)}}function H(e,i){1&e&&t._UZ(0,"app-progress",11)}function V(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span",12),t._uU(2,"Error: "),t.qZA(),t.TgZ(3,"span",13),t._uU(4),t.qZA(),t._UZ(5,"br"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"json"),t.qZA()),2&e){const n=t.oxw();t.xp6(4),t.Oqu(n.error.title),t.xp6(3),t.hij(" ",t.lcZ(8,2,n.error.errors)," ")}}function X(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2,"Total Stake"),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"amount"),t.qZA(),t.TgZ(6,"span",15),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,2,n.balance.totalStake)),t.xp6(3),t.hij("#",t.lcZ(8,4,n.balance.totalStakeCount),"")}}function w(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2,"Total Mine"),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"amount"),t.qZA(),t.TgZ(6,"span",15),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,2,n.balance.totalMine)),t.xp6(3),t.hij("#",t.lcZ(8,4,n.balance.totalMineCount),"")}}function z(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2,"Pending Received"),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"amount"),t.qZA(),t._UZ(6,"span"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,n.balance.pendingReceived))}}function $(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span"),t._uU(2,"Pending Sent"),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"amount"),t.qZA(),t._UZ(6,"span"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,n.balance.pendingSent))}}function G(e,i){if(1&e&&(t.TgZ(0,"div",14),t.TgZ(1,"div"),t.TgZ(2,"span"),t._uU(3,"Balance"),t.qZA(),t.TgZ(4,"span",15),t._uU(5),t.ALo(6,"amount"),t.qZA(),t._UZ(7,"span"),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"span"),t._uU(10,"Total Received"),t.qZA(),t.TgZ(11,"span",15),t._uU(12),t.ALo(13,"amount"),t.qZA(),t.TgZ(14,"span",15),t._uU(15),t.ALo(16,"number"),t.qZA(),t.qZA(),t.YNc(17,X,9,6,"div",1),t.YNc(18,w,9,6,"div",1),t.TgZ(19,"div"),t.TgZ(20,"span"),t._uU(21,"Total Sent"),t.qZA(),t.TgZ(22,"span",15),t._uU(23),t.ALo(24,"amount"),t.qZA(),t.TgZ(25,"span",15),t._uU(26),t.ALo(27,"number"),t.qZA(),t.qZA(),t.YNc(28,z,7,3,"div",1),t.YNc(29,$,7,3,"div",1),t.qZA()),2&e){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,9,n.balance.balance)),t.xp6(7),t.Oqu(t.lcZ(13,11,n.balance.totalReceived)),t.xp6(3),t.hij("#",t.lcZ(16,13,n.balance.totalReceivedCount),""),t.xp6(2),t.Q6J("ngIf",n.balance.totalStake>0),t.xp6(1),t.Q6J("ngIf",n.balance.totalMine>0),t.xp6(5),t.Oqu(t.lcZ(24,15,n.balance.totalSent)),t.xp6(3),t.hij("#",t.lcZ(27,17,n.balance.totalSentCount),""),t.xp6(2),t.Q6J("ngIf",n.balance.pendingReceived>0),t.xp6(1),t.Q6J("ngIf",n.balance.pendingSent>0)}}function tt(e,i){1&e&&(t.TgZ(0,"app-progress",11),t._uU(1,"Loading transactions..."),t.qZA())}function nt(e,i){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"span",12),t._uU(2,"Error: "),t.qZA(),t.TgZ(3,"span",13),t._uU(4),t.qZA(),t._UZ(5,"br"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"json"),t.qZA()),2&e){const n=t.oxw();t.xp6(4),t.Oqu(n.errorTransactions.title),t.xp6(3),t.hij(" ",t.lcZ(8,2,n.errorTransactions.errors)," ")}}function et(e,i){1&e&&t._UZ(0,"i",24)}function st(e,i){1&e&&t._UZ(0,"i",25)}const at=function(e){return["../../transaction",e]},ot=function(e){return["../../block",e]};function rt(e,i){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,et,1,0,"i",19),t.YNc(2,st,1,0,"i",20),t.TgZ(3,"span",21),t.TgZ(4,"a",22),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"span"),t.TgZ(7,"a",23),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"span",15),t._uU(10),t.ALo(11,"amount"),t.qZA(),t.qZA()),2&e){const n=i.$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf","stake"===n.entryType),t.xp6(1),t.Q6J("ngIf","stake"!==n.entryType),t.xp6(2),t.Q6J("routerLink",t.VKq(10,at,n.transactionHash)),t.xp6(1),t.Oqu(n.transactionHash),t.xp6(2),t.Q6J("routerLink",t.VKq(12,ot,n.blockIndex)),t.xp6(1),t.Oqu(n.blockIndex),t.xp6(2),t.AsE("",t.lcZ(11,8,n.value)," ",a.setup.Chain.Symbol,"")}}function it(e,i){1&e&&(t.TgZ(0,"app-progress",11),t._uU(1,"Loading more transactions..."),t.qZA())}function lt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",16),t.NdJ("onScroll",function(_){return t.CHM(n),t.oxw().onScroll(_)}),t.YNc(2,rt,12,14,"div",17),t._UZ(3,"br"),t.YNc(4,it,2,0,"app-progress",3),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",n.transactions),t.xp6(2),t.Q6J("ngIf",n.loading)}}const ct=[{path:"",component:(()=>{class e{constructor(n,a,_,g){var l=this;this.api=n,this.router=a,this.setup=_,this.activatedRoute=g,this.hostClass=!0,this.detailsVisible=!1,this.limit=10,this.loading=!1,this.count=0,this.activatedRoute.paramMap.subscribe(function(){var S=(0,y.Z)(function*(I){const L=I.get("address");console.log("Address:",L),l.transactions=null,l.address=L;try{l.balance=yield l.api.getAddress(L)}catch(h){l.error="{"===h.message[0]?JSON.parse(h.message):h}try{yield l.updateTransactions("/api/query/address/"+L+"/transactions?offset=&limit="+l.limit)}catch(h){l.errorTransactions="{"===h.message[0]?JSON.parse(h.message):h}});return function(I){return S.apply(this,arguments)}}())}amount(n){return n.filter(g=>g.address===this.address).reduce((g,l)=>g+l.balance,0)}ngOnInit(){return(0,y.Z)(function*(){})()}toggleDetails(){this.detailsVisible=!this.detailsVisible}ngOnDestroy(){}updateTransactions(n){var a=this;return(0,y.Z)(function*(){if(!n)return;const _=a.api.baseUrl.replace("/api",""),g=yield a.api.request(_+n);let l=yield g.json();if(200!==g.status)throw l&&l.status?new J.o(l.status,n,JSON.stringify(l)):new J.o(g.status,n,g.statusText);l=l.reverse(),a.total=g.headers.get("Pagination-Total");const S=g.headers.get("Link"),I=a.api.parseLinkHeader(S);a.link=I.previous,a.transactions||(a.transactions=[]),a.transactions=[...a.transactions,...l],a.count++})()}onScroll(n){var a=this;return(0,y.Z)(function*(){console.log("scroll occurred",n),n.isReachingBottom&&(console.log("the user is reaching the bottom"),a.loading=!0,setTimeout((0,y.Z)(function*(){yield a.updateTransactions(a.link),a.loading=!1}))),n.isReachingTop&&console.log("the user is reaching the top"),n.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(J.s),t.Y36(m.F0),t.Y36(Q.U),t.Y36(m.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-address-component"]],hostVars:2,hostBindings:function(n,a){2&n&&t.ekj("content-centered-top",a.hostClass)},decls:17,vars:8,consts:[[1,"box"],[4,"ngIf"],[1,"fas","fa-wallet"],["class","centered",4,"ngIf"],["class","grid-label-value-label",4,"ngIf"],[1,"grid-hash"],[1,"grid-hash-left"],[1,"fas","fa-hashtag"],[1,"grid-hash-middle","breakable"],[1,"grid-hash-right"],[1,"grid-double"],[1,"centered"],[1,"muted"],[1,"negative"],[1,"grid-label-value-label"],[1,"number"],["appDetectScroll","",1,"scrollable","address-transactions-scrollable",3,"bottomOffset","topOffset","onScroll"],["class","grid-list-transactions",4,"ngFor","ngForOf"],[1,"grid-list-transactions"],["class","fas fa-coins","title","Stake",4,"ngIf"],["class","fas fa-handshake","title","Transfer",4,"ngIf"],[1,"left"],[1,"nonbreakable","number",3,"routerLink"],[1,"number",3,"routerLink"],["title","Stake",1,"fas","fa-coins"],["title","Transfer",1,"fas","fa-handshake"]],template:function(n,a){1&n&&(t._UZ(0,"app-search"),t._UZ(1,"app-search"),t.TgZ(2,"div",0),t.YNc(3,F,9,1,"div",1),t.qZA(),t.TgZ(4,"div",0),t.TgZ(5,"h3"),t._UZ(6,"i",2),t._uU(7,"\xa0\xa0Address"),t.qZA(),t.YNc(8,H,1,0,"app-progress",3),t.YNc(9,V,9,4,"div",1),t.YNc(10,G,30,19,"div",4),t.qZA(),t.TgZ(11,"div",0),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.YNc(14,tt,2,0,"app-progress",3),t.YNc(15,nt,9,4,"div",1),t.YNc(16,lt,5,4,"div",1),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",a.address),t.xp6(5),t.Q6J("ngIf",!a.balance),t.xp6(1),t.Q6J("ngIf",a.error),t.xp6(1),t.Q6J("ngIf",a.balance),t.xp6(3),t.hij("Transactions (",a.total,")"),t.xp6(1),t.Q6J("ngIf",!a.transactions),t.xp6(1),t.Q6J("ngIf",a.errorTransactions),t.xp6(1),t.Q6J("ngIf",a.transactions))},directives:[j.g,M.O5,W.t,k.f,M.sg,m.yS],pipes:[M.Ts,K.C,M.JJ],encapsulation:2}),e})()}];let dt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(ct),o.ot,U.vV,C.t,d.Ps,f.Tx,c.Cv,Z.si,A.SJ,O.JX,P.p0,v.Nh,r.X,b.y4,p.m,x.LD,u.c,E.d,D.AV,N.ZX,Y.t,B.q,R.T]]}),e})()},9364:(q,T,s)=>{s.d(T,{g:()=>P});var m=s(5861),o=s(5e3),U=s(5830),C=s(9205),d=s(4521),f=s(7261),c=s(7322),Z=s(5245),A=s(7531),O=s(3075);let P=(()=>{class v{constructor(r,p,x,u){this.api=r,this.setup=p,this.router=x,this._snackBar=u,this.scheme=JSON.parse(localStorage.getItem("config")).scheme}ngOnDestroy(){}ngOnInit(){return(0,m.Z)(function*(){})()}inputType(r){return r.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":r.length<20?"index":r.length>30&&r.length<54?"address":"hash"}search(){var r=this;return(0,m.Z)(function*(){const p=r.searchTerm;switch(r.inputType(p)){case"index":{const u=parseInt(p,10);NaN!==u&&u>0?r.router.navigate([r.setup.current,"explorer","block",u]):r._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[r.scheme]});break}case"address":r.router.navigate([r.setup.current,"explorer","address",p]);break;case"hash":{let u=null;try{u=yield r.api.getBlockByHash(p)}catch(E){}if(u)r.router.navigate([r.setup.current,"explorer","block",u.blockHash]);else{const E=yield r.api.getTransaction(p);r.router.navigate([r.setup.current,"explorer","transaction",E.transactionId])}break}default:r._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[r.scheme]})}})()}}return v.\u0275fac=function(r){return new(r||v)(o.Y36(U.s),o.Y36(C.U),o.Y36(d.F0),o.Y36(f.ux))},v.\u0275cmp=o.Xpm({type:v,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(r,p){1&r&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"mat-form-field",4),o._UZ(5,"mat-icon",5),o.TgZ(6,"input",6,7),o.NdJ("keyup.enter",function(){return p.search()})("ngModelChange",function(u){return p.searchTerm=u}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&r&&(o.xp6(4),o.Q6J("floatLabel","always"),o.xp6(1),o.Q6J("svgIcon","heroicons_solid:search"),o.xp6(1),o.Q6J("ngModel",p.searchTerm))},directives:[c.KE,Z.Hw,c.qo,A.Nt,O.Fj,O.JJ,O.On],encapsulation:2}),v})()},809:(q,T,s)=>{s.d(T,{C:()=>U,N:()=>C});var m=s(5e3),o=s(9205);let U=(()=>{class d{constructor(c){this.setup=c}transform(c){return this.setup.transformFormat(c)}}return d.\u0275fac=function(c){return new(c||d)(m.Y36(o.U,16))},d.\u0275pipe=m.Yjl({name:"amount",type:d,pure:!1}),d})(),C=(()=>{class d{constructor(c){this.setup=c}transform(c){const Z=this.setup.transformFormat(c);if(Z.indexOf(".")>-1){const A=Z.split(".");return`${A[0]}.<span class="decimals">${A[1]}</span>`}return Z}}return d.\u0275fac=function(c){return new(c||d)(m.Y36(o.U,16))},d.\u0275pipe=m.Yjl({name:"amountHtml",type:d,pure:!1}),d})()}}]);