"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[178],{81178:(Z,g,o)=>{o.r(g),o.d(g,{BlocksModule:()=>q});var p=o(99826),a=o(47423),h=o(69832),u=o(4834),f=o(25245),v=o(92181),d=o(85899),_=o(90508),C=o(2638),E=o(84847),M=o(24999),m=o(53251),y=o(12666),s=o(42115),r=o(44466),k=o(74107),i=o(77531),B=o(9828),U=o(87238),A=o(57261),S=o(69837),J=o(17237),L=o(35486),b=o(15861),W=o(88938),t=o(5e3),K=o(5830),Q=o(29205),I=o(69808),H=o(32419),R=o(49364),N=o(11656);function F(l,c){if(1&l&&(t.TgZ(0,"div",19),t._UZ(1,"mat-icon",12),t.TgZ(2,"div",20),t._uU(3),t.qZA()()),2&l){const n=t.oxw();t.xp6(1),t.Q6J("svgIcon","heroicons_solid:badge-check"),t.xp6(2),t.Oqu(null==n.setup.Chain?null:n.setup.Chain.Description)}}function j(l,c){if(1&l){const n=t.EpF();t.TgZ(0,"div",23)(1,"div",24)(2,"div",25),t._UZ(3,"mat-icon",26),t.TgZ(4,"div",27)(5,"div",28)(6,"span"),t._uU(7,"Latest blocks: "),t.qZA(),t.TgZ(8,"span",29),t._uU(9),t.qZA()()()(),t.TgZ(10,"div",30)(11,"button",31),t.NdJ("click",function(){t.CHM(n);const x=t.oxw(2);return t.KtG(x.exportCSV())}),t._UZ(12,"mat-icon",12),t.TgZ(13,"span",13),t._uU(14,"Export CSV"),t.qZA()()()()()}if(2&l){const n=t.oxw(2);t.xp6(3),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(6),t.Oqu(n.total),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:document-download")}}function w(l,c){1&l&&t._UZ(0,"app-progress")}const Y=function(l){return["../block",l]};function z(l,c){if(1&l&&(t.TgZ(0,"blockcore-block",34),t._UZ(1,"mat-icon",35),t.TgZ(2,"div",36)(3,"div",37)(4,"a",38),t._uU(5),t.qZA()(),t.TgZ(6,"div",39),t._uU(7),t.ALo(8,"date"),t.qZA()(),t.TgZ(9,"div",40)(10,"div",41),t.ynx(11),t.TgZ(12,"div",42)(13,"div",43),t._uU(14,"Transaction Count:"),t.qZA(),t.TgZ(15,"div",44),t._uU(16),t.qZA()(),t.BQk(),t.qZA()(),t._UZ(17,"div",45),t.qZA()),2&l){const n=c.$implicit;t.xp6(1),t.MGl("matTooltip","size: ",(n.blockSize/1024).toFixed(2),""),t.Q6J("svgIcon","heroicons_outline:cube"),t.xp6(3),t.Q6J("routerLink",t.VKq(10,Y,n.blockIndex)),t.xp6(1),t.Oqu(n.blockIndex),t.xp6(2),t.Oqu(t.xi3(8,7,1e3*n.blockTime,"dd/MM/yyyy hh:mm")),t.xp6(8),t.MGl("matTooltip","Transaction Count: ",n.transactionCount,""),t.xp6(1),t.hij(" ",n.transactionCount,"")}}function V(l,c){1&l&&t._UZ(0,"app-progress")}function X(l,c){if(1&l){const n=t.EpF();t.TgZ(0,"div")(1,"div",32),t.NdJ("onScroll",function(x){t.CHM(n);const T=t.oxw(2);return t.KtG(T.onScroll(x))}),t.YNc(2,z,18,12,"blockcore-block",33),t.YNc(3,V,1,0,"app-progress",22),t.qZA()()}if(2&l){const n=t.oxw(2);t.xp6(1),t.Q6J("bottomOffset",400)("topOffset",400),t.xp6(1),t.Q6J("ngForOf",n.blocks),t.xp6(1),t.Q6J("ngIf",n.loading)}}function G(l,c){if(1&l&&(t._UZ(0,"app-search"),t.YNc(1,j,15,4,"div",21),t.YNc(2,w,1,0,"app-progress",22),t.YNc(3,X,4,4,"div",22)),2&l){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.total),t.xp6(1),t.Q6J("ngIf",!n.blocks),t.xp6(1),t.Q6J("ngIf",n.blocks)}}const $=[{path:"",component:(()=>{class l{constructor(n,e){this.api=n,this.setup=e,this.hostClass=!0,this.blocks=null,this.count=0,this.maxCount=2,this.limit=20,this.loading=!1}scrollHandler(n){}ngOnInit(){var n=this;return(0,b.Z)(function*(){n.subscription=n.setup.currentChain$.subscribe(function(){var e=(0,b.Z)(function*(x){yield n.updateBlocks("/api/query/block?offset=&limit="+n.limit)});return function(x){return e.apply(this,arguments)}}())})()}ngOnDestroy(){clearTimeout(this.timerInfo),clearTimeout(this.timerBlocks),this.subscription.unsubscribe()}updateBlocks(n){var e=this;return(0,b.Z)(function*(){if(!n)return;const x=e.api.baseUrl.replace("/api",""),T=yield e.api.request(x+n);e.total=T.headers.get("Pagination-Total");const tt=T.headers.get("Link"),ot=e.api.parseLinkHeader(tt);e.link=ot.previous;const D=yield T.json();D.sort((O,P)=>P.blockIndex===O.blockIndex?0:P.blockIndex<O.blockIndex?-1:P.blockIndex>O.blockIndex?1:void 0),e.blocks||(e.blocks=[]),e.blocks=[...e.blocks,...D],e.count++})()}exportCSV(){var n=this;return(0,b.Z)(function*(){new W.Sv(n.blocks,"blocks",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"Blocks",useBom:!0,headers:["blockHash","blockIndex","blockSize","blockTime","nextBlockHash","previousBlockHash","syncComplete","transactionCount","confirmations","bits","difficulty","chainWork","merkleroot","nonce","version","posBlockSignature","posModifierv2","posFlags","posHashProof","posBlockTrust","posChainTrust"],useHeader:!1,nullToEmptyString:!0})})()}onScroll(n){var e=this;return(0,b.Z)(function*(){n.isReachingBottom&&(e.loading=!0,setTimeout((0,b.Z)(function*(){yield e.updateBlocks(e.link),e.loading=!1})))})()}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(K.s),t.Y36(Q.U))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-blocks-component"]],hostVars:2,hostBindings:function(n,e){1&n&&t.NdJ("scroll",function(T){return e.scrollHandler(T)}),2&n&&t.ekj("content-centered-top",e.hostClass)},decls:23,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"sm:px-2",3,"animationDuration"],["label","Blocks"],["matTabContent",""],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],["class","sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden mb-8",4,"ngIf"],[4,"ngIf"],[1,"sm:col-span-2","md:col-span-4","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","mb-8"],[1,"flex","flex-col","sm:flex-row","items-start","justify-between"],[1,"flex","text-lg","font-medium","tracking-tight","leading-6","truncate","align-middle"],[1,"icon-size-22","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col","mt-8"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],[1,"mt-3","sm:mt-0","sm:ml-2"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color","click"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon","matTooltip"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary"],[3,"routerLink"],[1,"text-md","text-secondary"],[1,"flex","flex-col"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],[1,"hidden","md:block","mr-3"],[1,"inline-flex","text-primary",3,"matTooltip"],[1,"flex"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.qZA(),t.TgZ(7,"div",6),t.ynx(8),t.TgZ(9,"div",7),t._uU(10),t.qZA(),t.BQk(),t.YNc(11,F,4,2,"div",8),t.qZA()(),t.TgZ(12,"div",9)(13,"a",10)(14,"button",11),t._UZ(15,"mat-icon",12),t.TgZ(16,"span",13),t._uU(17,"Website"),t.qZA()()()()()()(),t.TgZ(18,"div",14)(19,"div",15)(20,"mat-tab-group",16)(21,"mat-tab",17),t.YNc(22,G,4,3,"ng-template",18),t.qZA()()()()()),2&n&&(t.xp6(6),t.s9C("src",null==e.setup.Chain?null:e.setup.Chain.Icon,t.LSH),t.xp6(4),t.hij(" ",null==e.setup.Chain?null:e.setup.Chain.Symbol," "),t.xp6(1),t.Q6J("ngIf",null==e.setup.Chain?null:e.setup.Chain.Description),t.xp6(2),t.s9C("href",null==e.setup.Chain?null:e.setup.Chain.Url,t.LSH),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-double-right"),t.xp6(5),t.Q6J("animationDuration","0"))},dependencies:[p.yS,a.lW,f.Hw,m.SP,m.uX,m.Vc,I.sg,I.O5,H.f,U.gM,R.g,N.t,I.uU],encapsulation:2}),l})()}];let q=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[p.Bz.forChild($),a.ot,h.vV,u.t,f.Ps,v.Tx,d.Cv,_.si,C.SJ,E.JX,M.p0,m.Nh,s.X,y.y4,r.m,k.LD,i.c,B.d,U.AV,A.ZX,S.t,J.q,L.T]}),l})()},49364:(Z,g,o)=>{o.d(g,{g:()=>M});var p=o(15861),a=o(5e3),h=o(5830),u=o(29205),f=o(99826),v=o(57261),d=o(25245),_=o(93075),C=o(67322),E=o(77531);let M=(()=>{class m{constructor(s,r,k,i){this.api=s,this.setup=r,this.router=k,this._snackBar=i,this.scheme=JSON.parse(localStorage.getItem("config")).scheme}ngOnDestroy(){}ngOnInit(){return(0,p.Z)(function*(){})()}inputType(s){return s.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":s.length<20?"index":s.length>30&&s.length<54?"address":"hash"}search(){var s=this;return(0,p.Z)(function*(){const r=s.searchTerm;switch(s.inputType(r)){case"index":{const i=parseInt(r,10);NaN!==i&&i>0?s.router.navigate([s.setup.current,"explorer","block",i]):s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]});break}case"address":s.router.navigate([s.setup.current,"explorer","address",r]);break;case"hash":{let i=null;try{i=yield s.api.getBlockByHash(r)}catch(B){}if(i)s.router.navigate([s.setup.current,"explorer","block",i.blockHash]);else{const B=yield s.api.getTransaction(r);s.router.navigate([s.setup.current,"explorer","transaction",B.transactionId])}break}default:s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]})}})()}}return m.\u0275fac=function(s){return new(s||m)(a.Y36(h.s),a.Y36(u.U),a.Y36(f.F0),a.Y36(v.ux))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(s,r){1&s&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),a._UZ(5,"mat-icon",5),a.TgZ(6,"input",6,7),a.NdJ("keyup.enter",function(){return r.search()})("ngModelChange",function(i){return r.searchTerm=i}),a.qZA()()()()()()),2&s&&(a.xp6(4),a.Q6J("floatLabel","always"),a.xp6(1),a.Q6J("svgIcon","heroicons_solid:search"),a.xp6(1),a.Q6J("ngModel",r.searchTerm))},dependencies:[d.Hw,_.Fj,_.JJ,_.On,C.KE,C.qo,E.Nt],encapsulation:2}),m})()},69837:(Z,g,o)=>{o.d(g,{t:()=>v});var p=o(25245),a=o(44466),h=o(77531),u=o(57261),f=o(5e3);let v=(()=>{class d{}return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=f.oAB({type:d}),d.\u0275inj=f.cJS({imports:[p.Ps,a.m,h.c,u.ZX]}),d})()},9828:(Z,g,o)=>{o.d(g,{d:()=>h});var p=o(69808),a=o(5e3);let h=(()=>{class u{}return u.\u0275fac=function(v){return new(v||u)},u.\u0275mod=a.oAB({type:u}),u.\u0275inj=a.cJS({imports:[p.ez]}),u})()}}]);